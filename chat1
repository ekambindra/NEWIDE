# chat1 - Atlas Meridian Continuity Log

Last updated: 2026-02-18
Project: Atlas Meridian (enterprise AI IDE)

## Locked Decisions
1. Templates first: Node microservices + Postgres.
2. Backend: Node.js + TypeScript.
3. MVP platforms: macOS + Windows GA.
4. Product model: Open-core.
5. Deployment: AWS managed cloud control plane + local/offline support.
6. Policy default: Balanced.
7. License: Apache-2.0 (core).
8. Telemetry: opt-in by default.

## Major Completed Work So Far
1. Core desktop Electron shell with Kiro-style pane layout.
2. Workspace tree/search, editor tabs, terminal, test/log views.
3. Diff approval with chunk-level accept/reject and patch queue.
4. Diff checkpoints, checkpoint revert, signed patch manifest verification.
5. Deterministic runtime checkpoint artifacts and replay-oriented files.
6. Controlled terminal execution with policy gates and structured test parsing.
7. Pipeline runner (lint/typecheck/test/build) with checkpoint artifacts.
8. Multi-agent concurrent runtime orchestration and coordinator summaries.
9. Immutable local audit event chain and export.
10. Team layer: memory KB, ADR logs, reviewer mode, ownership mapping/conflicts.
11. Changelog/release-note draft generation.
12. Indexer improvements: parser pipeline fallback diagnostics panel, repo map, context builder.
13. Autonomy quality checks: artifact completeness and green pipeline guarantee.
14. Product rename completed to Atlas Meridian across app/docs/package metadata.

## Additional Update In This Session
1. Added grounding-evidence generation for diff applies (IDX-011 path):
   - indexer helper `buildGroundingEvidence(...)` computes line-level grounded evidence.
   - diff checkpoint flow now stores grounding evidence artifact and evidence count.
   - UI now displays grounding evidence count per diff checkpoint.
2. Added chat continuity protocol files so new sessions can continue with full context.
3. Added index freshness target gate computation and diagnostics/audit exposure (IDX-007).
4. Added module summary generation in index pipeline and diagnostics UI (IDX-009).
5. Added retrieval priority scoring with query + token budget context selection in index diagnostics (IDX-012).
6. Added index call graph extraction with caller/callee ranking and edge previews in diagnostics (IDX-005).
7. Added cross-file rename impact analysis with declaration/reference/collision metrics and affected line previews (IDX-014).
8. Added deterministic auto-repair strategies and bounded repair trace artifacts in runtime (`repair_trace.json`) (AUTO-017).
9. Added PR package artifact generation (`pr_package.json`, `pr_package.md`) including evidence/risk/rollback/owners (AUTO-018).
10. Added project builder mode with deterministic run artifacts, audit events, and UI controls in Agent panel (AUTO-004).
11. Added template generation for API service scaffold (`services/api`) in Node + TypeScript (AUTO-005).
12. Added template generation for worker service scaffold (`services/worker`) in Node + TypeScript (AUTO-006).
13. Added template Postgres integration (`db/init` SQL + compose/env wiring) for generated projects (AUTO-007).
14. Added multi-file refactor mode with preview/apply, sensitive-path approval gate, deterministic artifacts, and grounding from rename-impact + call graph (AUTO-002).
15. Added secret detection gate before patch apply in diff workflow with explicit block reasons and finding counts (ENT-008).
16. Added audit log secret redaction for targets/reasons/metadata so exported events are sanitized by default (ENT-009).
17. Added OIDC/SAML provider registry and desktop auth session flows with protocol-aware login endpoints (ENT-001, ENT-002).
18. Added RBAC role model (`viewer`, `developer`, `admin`, `security_admin`) and enforced high-impact action authorization in runtime handlers (ENT-003).
19. Added enterprise settings manager with persisted telemetry consent state (`unknown/granted/denied`) and explicit runtime gating checks (ENT-012).
20. Added privacy mode runtime controls that force telemetry off and block metric ingestion while enabled (ENT-013).
21. Added control-plane TLS policy validation in desktop runtime with strict HTTPS enforcement and localhost-only insecure override for local dev (ENT-015).
22. Added self-hosted gateway mode with configurable endpoint/token/org/workspace settings, signed request headers, health checks, metric/audit push actions, and desktop settings UI controls (ENT-017).
23. Added encrypted-at-rest metadata persistence for control-plane data (`orgs/workspaces/policies/audit/metrics`) using AES-256-GCM envelope storage with managed key handling (ENT-014).
24. Added control-plane backup/restore admin endpoints (`/admin/backup`, `/admin/restore`) and snapshot workflow for encrypted metadata recovery operations (CLOUD-009).
25. Added Terraform module `infra/terraform/modules/atlas-control-plane` with AWS baseline resources covering ECS/Fargate, RDS Postgres, S3 artifacts, and CloudFront edge delivery (CLOUD-006).
26. Added Terraform environment roots for `staging` and `prod` with dedicated configuration and example tfvars templates (CLOUD-007).
27. Added ECS blue/green deployment resources (CodeDeploy app + deployment group + blue/green target groups) in Terraform module for controlled rollout and rollback (CLOUD-008).
28. Added GitHub Actions macOS desktop build pipeline with build/package/upload artifact workflow for release readiness (REL-001).
29. Added GitHub Actions Windows desktop build pipeline with build/package/upload artifact workflow for release readiness (REL-002).

## Current Progress Snapshot
- Feature tracker currently records: 147/170 (86.5%).
- In-progress areas include release hardening (signing/installers/update channels/provenance/docs portal) and full benchmark KPI regression gates.

## Continuation Rules
1. Any new chat session must read this file first.
2. If context fills again, create `chat2`, then `chat3`, etc.
3. Each new chat file must include:
   - What was completed in that session,
   - Updated completion counts and percent,
   - Next concrete implementation tasks.
4. Never continue implementation before reading latest `chatN` continuity file.

## Immediate Next Tasks
1. Continue release hardening: `REL-003..REL-010`.
2. Continue evaluation expansion: `EVAL-002..EVAL-008`, `EVAL-010..EVAL-014`.
